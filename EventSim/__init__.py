# sophisticated solution using flask-socketio